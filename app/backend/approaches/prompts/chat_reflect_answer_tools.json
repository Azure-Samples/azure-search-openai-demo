[
    {
        "type": "function",
        "function": {
            "name": "reflect_answer",
            "description": "Reflect on an answer to a question and decide on the next step based on the context of the conversation.",
            "parameters": {
                "type": "object",
                "properties": {
                    "relevance": {
                        "type": "object",
                        "description": "Relevance of the answer to the question asked.",
                        "properties": {
                            "thoughtChain": {
                                "type": "string",
                                "description": "A chain of thoughts that led to the conclusion about the relevance of the answer."
                            },
                            "explanation": {
                                "type": "string",
                                "description": "An explanation of why the answer is relevant or not relevant to the question asked."
                            },
                            "score": {
                                "type": "number",
                                "description": "A score indicating how relevant the answer is to the question asked, on a scale from 1 to 5."
                            }
                        }
                    },
                    "groundedness": {
                        "type": "object",
                        "description": "Groundedness of the answer based on the context for the question.",
                        "properties": {
                            "thoughtChain": {
                                "type": "string",
                                "description": "A chain of thoughts that led to the conclusion about the groundedness of the answer."
                            },
                            "explanation": {
                                "type": "string",
                                "description": "An explanation of why the answer is grounded based on the context."
                            },
                            "score": {
                                "type": "number",
                                "description": "A score indicating how grounded the answer is to the context given, on a scale from 1 to 5."
                            }
                        }
                    },
                    "correctness": {
                        "type": "object",
                        "description": "Correctness of the answer based on the context for the question.",
                        "properties": {
                            "thoughtChain": {
                                "type": "string",
                                "description": "A chain of thoughts that led to the conclusion about the correctness of the answer."
                            },
                            "explanation": {
                                "type": "string",
                                "description": "An explanation of why the answer is correct or not correct based on the context."
                            },
                            "score": {
                                "type": "number",
                                "description": "A score indicating how correct the answer is to the context given, on a scale from 1 to 5."
                            }
                        }
                    },
                    "next_query": {
                        "type": "string",
                        "description": "The query to search in the index if necessary. Output an empty string if it's not necessary"
                    },
                    "next_answer": {
                        "type": "string",
                        "description": "The answer to the question asked, which may be empty if no correction is necessary or a new one based on the context."
                    }
                },
                "required": [
                    "relevance",
                    "groundedness",
                    "correctness",
                    "next_query",
                    "next_answer"
                ]
            }
        }
    }
]